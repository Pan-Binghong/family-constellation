{"ast":null,"code":"var _jsxFileName = \"D:\\\\Code\\\\family-constellation\\\\frontend\\\\src\\\\FamilyMember.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useDrag } from 'react-dnd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst directionOrder = ['north', 'northeast', 'east', 'southeast', 'south', 'southwest', 'west', 'northwest'];\nconst directionAngle = {\n  north: 0,\n  northeast: 45,\n  east: 90,\n  southeast: 135,\n  south: 180,\n  southwest: 225,\n  west: 270,\n  northwest: 315\n};\nconst arrowPositions = {\n  // 对于方形和圆形\n  north: {\n    top: -28,\n    left: '50%',\n    transform: 'translateX(-50%)'\n  },\n  // 向上调整，更靠近圆形顶部\n  northeast: {\n    top: -20,\n    right: -20\n  },\n  // 更靠近圆形右上角\n  east: {\n    top: '50%',\n    right: -28,\n    transform: 'translateY(-50%)'\n  },\n  // 向右调整，更靠近圆形右侧\n  southeast: {\n    bottom: -20,\n    right: -20\n  },\n  // 更靠近圆形右下角\n  south: {\n    bottom: -28,\n    left: '50%',\n    transform: 'translateX(-50%)'\n  },\n  // 向下调整，更靠近圆形底部\n  southwest: {\n    bottom: -20,\n    left: -20\n  },\n  // 更靠近圆形左下角\n  west: {\n    top: '50%',\n    left: -28,\n    transform: 'translateY(-50%)'\n  },\n  // 向左调整，更靠近圆形左侧\n  northwest: {\n    top: -20,\n    left: -20\n  } // 更靠近圆形左上角\n};\nconst triangleArrowPositions = {\n  // 针对三角形\n  north: {\n    top: -22,\n    left: '50%',\n    transform: 'translateX(-50%)'\n  },\n  // 三角形顶点，通常是OK的\n  northeast: {\n    top: -16,\n    right: -16\n  },\n  // 从边界框右上角向外偏移，尝试显示箭头\n  east: {\n    top: '50%',\n    right: -22,\n    transform: 'translateY(-50%)'\n  },\n  // 沿右侧边，调整Y偏移可能需要微调\n  southeast: {\n    bottom: -16,\n    right: -16\n  },\n  // 从边界框右下角向外偏移\n  south: {\n    bottom: -22,\n    left: '50%',\n    transform: 'translateX(-50%)'\n  },\n  // 三角形底边中心，通常是OK的\n  southwest: {\n    bottom: -16,\n    left: -16\n  },\n  // 从边界框左下角向外偏移\n  west: {\n    top: '50%',\n    left: -22,\n    transform: 'translateY(-50%)'\n  },\n  // 沿左侧边，调整Y偏移可能需要微调\n  northwest: {\n    top: -16,\n    left: -16\n  } // 从边界框左上角向外偏移\n};\nconst FamilyMember = ({\n  member,\n  onUpdate\n}) => {\n  _s();\n  const [dragOffset, setDragOffset] = useState(null);\n  const [{\n    isDragging\n  }, drag] = useDrag({\n    type: 'MEMBER',\n    item: () => ({\n      id: member.id,\n      initialOffset: dragOffset\n    }),\n    collect: monitor => ({\n      isDragging: monitor.isDragging()\n    })\n  });\n\n  // 处理拖拽开始时记录偏移量\n  const handleMouseDown = useCallback(e => {\n    const element = e.currentTarget;\n    const rect = element.getBoundingClientRect();\n    const offset = {\n      x: e.clientX - rect.left,\n      y: e.clientY - rect.top\n    };\n    console.log('🎯 拖拽开始 - 成员:', member.name, {\n      成员ID: member.id,\n      成员当前位置: {\n        x: member.x,\n        y: member.y\n      },\n      成员尺寸: {\n        width: width,\n        height: height\n      },\n      元素边界: {\n        left: rect.left,\n        top: rect.top,\n        width: rect.width,\n        height: rect.height\n      },\n      鼠标位置: {\n        clientX: e.clientX,\n        clientY: e.clientY\n      },\n      计算的偏移量: offset\n    });\n    setDragOffset(offset);\n  }, [member.name, member.id, member.x, member.y, width, height]);\n  const width = member.width || 72;\n  const height = member.height || 72;\n  const [hovered, setHovered] = useState(false);\n  const [resizing, setResizing] = useState(false);\n  const [resizeStart, setResizeStart] = useState(null);\n  const shape = member.gender === 'female' ? 'circle' : member.shape || 'square'; // 确保 shape 在 validDirection 之前定义\n\n  const positionConfigForValidation = shape === 'triangle' ? triangleArrowPositions : arrowPositions;\n  const validDirection = member.direction && positionConfigForValidation[member.direction] ? member.direction : 'north';\n  const handleRotate = useCallback(e => {\n    e.preventDefault();\n    e.stopPropagation();\n    const idx = directionOrder.indexOf(validDirection);\n    const next = directionOrder[(idx + 1) % directionOrder.length];\n    if (onUpdate) {\n      onUpdate(member.id, {\n        direction: next\n      });\n    }\n  }, [validDirection, member.id, onUpdate]);\n  const handleResizeMouseDown = useCallback(e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setResizing(true);\n    setResizeStart({\n      x: e.clientX,\n      y: e.clientY,\n      width,\n      height\n    });\n    document.body.style.setProperty('cursor', 'nwse-resize', 'important');\n  }, [width, height]);\n  useEffect(() => {\n    if (!resizing || !resizeStart) return;\n    const handleMove = e => {\n      const dx = e.clientX - resizeStart.x;\n      const dy = e.clientY - resizeStart.y;\n      const delta = Math.max(Math.abs(dx), Math.abs(dy)) * (dx < 0 || dy < 0 ? -1 : 1);\n      const base = Math.max(resizeStart.width, resizeStart.height);\n      const newSize = Math.max(40, base + delta);\n      onUpdate && onUpdate(member.id, {\n        width: newSize,\n        height: newSize\n      });\n    };\n    const handleUp = () => {\n      setResizing(false);\n      setResizeStart(null);\n      document.body.style.cursor = '';\n    };\n    document.addEventListener('mousemove', handleMove);\n    document.addEventListener('mouseup', handleUp);\n    return () => {\n      document.removeEventListener('mousemove', handleMove);\n      document.removeEventListener('mouseup', handleUp);\n    };\n  }, [resizing, resizeStart, onUpdate, member.id]);\n  const renderDirectionTriangle = useCallback(() => {\n    const positionConfig = shape === 'triangle' ? triangleArrowPositions : arrowPositions;\n    const position = positionConfig[validDirection];\n    const angle = directionAngle[validDirection] || 0;\n    const baseTransform = position.transform || '';\n    const rotateTransform = `rotate(${angle}deg)`;\n    const combinedTransform = baseTransform ? `${baseTransform} ${rotateTransform}` : rotateTransform;\n    return /*#__PURE__*/_jsxDEV(\"svg\", {\n      width: \"22\",\n      height: \"22\",\n      style: {\n        position: 'absolute',\n        top: position.top,\n        left: position.left,\n        right: position.right,\n        bottom: position.bottom,\n        zIndex: 20,\n        transform: combinedTransform\n      },\n      children: /*#__PURE__*/_jsxDEV(\"polygon\", {\n        points: \"11,0 22,22 0,22\",\n        fill: \"#6366f1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this);\n  }, [validDirection, shape]);\n  const renderResizeHandle = useCallback(() => /*#__PURE__*/_jsxDEV(\"div\", {\n    onMouseDown: handleResizeMouseDown,\n    style: {\n      position: 'absolute',\n      right: -25,\n      bottom: -25,\n      width: 24,\n      height: 24,\n      background: '#fff',\n      border: '2px solid #6366f1',\n      borderRadius: 8,\n      cursor: 'nwse-resize',\n      zIndex: 30,\n      boxShadow: '0 2px 8px rgba(0,0,0,0.15)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    title: \"\\u7F29\\u653E\",\n    children: /*#__PURE__*/_jsxDEV(\"svg\", {\n      width: \"16\",\n      height: \"16\",\n      children: [/*#__PURE__*/_jsxDEV(\"polyline\", {\n        points: \"3,13 13,13 13,3\",\n        fill: \"none\",\n        stroke: \"#6366f1\",\n        strokeWidth: \"2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n        points: \"9,7 13,3 9,7\",\n        fill: \"none\",\n        stroke: \"#6366f1\",\n        strokeWidth: \"2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n        points: \"7,9 13,13 7,9\",\n        fill: \"none\",\n        stroke: \"#6366f1\",\n        strokeWidth: \"2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 5\n  }, this), [handleResizeMouseDown]);\n  const getContainerStyle = () => {\n    let baseStyle = {\n      width,\n      height,\n      minWidth: 40,\n      minHeight: 40,\n      cursor: isDragging ? 'grabbing' : 'grab',\n      opacity: isDragging ? 0.8 : 1,\n      background: 'rgba(255,255,255,0.98)',\n      border: '3px solid #a5b4fc',\n      boxShadow: hovered ? '0 8px 24px rgba(0,0,0,0.2)' : '0 6px 20px rgba(0,0,0,0.15)',\n      transition: 'box-shadow 0.2s ease, transform 0.2s ease',\n      transform: isDragging ? 'scale(1.02)' : 'scale(1)',\n      willChange: 'transform',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      userSelect: 'none',\n      position: 'relative'\n    };\n    switch (shape) {\n      case 'circle':\n        baseStyle.borderRadius = '50%';\n        break;\n      case 'triangle':\n        baseStyle.borderRadius = '0';\n        baseStyle.clipPath = 'polygon(50% 0%, 0% 100%, 100% 100%)';\n        break;\n      default:\n        baseStyle.borderRadius = '8px';\n        break;\n    }\n    return baseStyle;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    \"data-member-id\": member.id,\n    style: {\n      position: 'absolute',\n      left: member.x,\n      top: member.y,\n      zIndex: 2000\n    },\n    onMouseEnter: () => setHovered(true),\n    onMouseLeave: () => setHovered(false),\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleRotate,\n      onMouseDown: e => e.stopPropagation(),\n      style: {\n        position: 'absolute',\n        top: -40,\n        left: -40,\n        zIndex: 20,\n        background: '#fff',\n        border: '2px solid #6366f1',\n        borderRadius: '50%',\n        width: 32,\n        height: 32,\n        cursor: 'pointer',\n        padding: 0,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        boxShadow: '0 2px 8px rgba(0,0,0,0.15)'\n      },\n      title: `箭头朝向: ${validDirection}`,\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"18\",\n        height: \"18\",\n        viewBox: \"0 0 16 16\",\n        children: [/*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M8 2v2.5a.5.5 0 0 0 .5.5H11\",\n          stroke: \"#6366f1\",\n          strokeWidth: \"1.5\",\n          fill: \"none\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M13.5 8A5.5 5.5 0 1 1 8 2\",\n          stroke: \"#6366f1\",\n          strokeWidth: \"1.5\",\n          fill: \"none\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: drag,\n      style: getContainerStyle(),\n      onMouseDown: handleMouseDown,\n      children: [renderDirectionTriangle(), member.isDeceased && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          transform: 'translate(-50%, -50%)',\n          fontSize: Math.min(width * 2, 60),\n          color: '#6b7280',\n          fontWeight: 'bold',\n          zIndex: 2001,\n          textShadow: '2px 2px 4px rgba(0,0,0,0.3)',\n          opacity: 0.6,\n          pointerEvents: 'none'\n        },\n        children: \"\\u2715\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: Math.max(12, Math.min(width * 0.38, 28)),\n          marginBottom: 2,\n          transition: 'transform 0.2s'\n        },\n        children: member.icon || '🧑'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 'bold',\n          color: '#1f2937',\n          fontSize: Math.max(10, width / 6.5),\n          marginBottom: 1\n        },\n        children: member.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: Math.max(8, width / 8),\n          color: '#3b82f6',\n          fontWeight: 600,\n          letterSpacing: 0.5\n        },\n        children: member.role\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this), renderResizeHandle()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 233,\n    columnNumber: 5\n  }, this);\n};\n_s(FamilyMember, \"ie/n7/sdh/hBokJJwMDShKHW404=\", false, function () {\n  return [useDrag];\n});\n_c = FamilyMember;\nexport default FamilyMember;\nvar _c;\n$RefreshReg$(_c, \"FamilyMember\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useDrag","jsxDEV","_jsxDEV","directionOrder","directionAngle","north","northeast","east","southeast","south","southwest","west","northwest","arrowPositions","top","left","transform","right","bottom","triangleArrowPositions","FamilyMember","member","onUpdate","_s","dragOffset","setDragOffset","isDragging","drag","type","item","id","initialOffset","collect","monitor","handleMouseDown","e","element","currentTarget","rect","getBoundingClientRect","offset","x","clientX","y","clientY","console","log","name","成员ID","成员当前位置","成员尺寸","width","height","元素边界","鼠标位置","计算的偏移量","hovered","setHovered","resizing","setResizing","resizeStart","setResizeStart","shape","gender","positionConfigForValidation","validDirection","direction","handleRotate","preventDefault","stopPropagation","idx","indexOf","next","length","handleResizeMouseDown","document","body","style","setProperty","handleMove","dx","dy","delta","Math","max","abs","base","newSize","handleUp","cursor","addEventListener","removeEventListener","renderDirectionTriangle","positionConfig","position","angle","baseTransform","rotateTransform","combinedTransform","zIndex","children","points","fill","fileName","_jsxFileName","lineNumber","columnNumber","renderResizeHandle","onMouseDown","background","border","borderRadius","boxShadow","display","alignItems","justifyContent","title","stroke","strokeWidth","getContainerStyle","baseStyle","minWidth","minHeight","opacity","transition","willChange","flexDirection","userSelect","clipPath","onMouseEnter","onMouseLeave","onClick","padding","viewBox","d","ref","isDeceased","fontSize","min","color","fontWeight","textShadow","pointerEvents","marginBottom","icon","letterSpacing","role","_c","$RefreshReg$"],"sources":["D:/Code/family-constellation/frontend/src/FamilyMember.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useDrag } from 'react-dnd';\r\n\r\nconst directionOrder = ['north', 'northeast', 'east', 'southeast', 'south', 'southwest', 'west', 'northwest'];\r\nconst directionAngle = { \r\n  north: 0, \r\n  northeast: 45, \r\n  east: 90, \r\n  southeast: 135, \r\n  south: 180, \r\n  southwest: 225, \r\n  west: 270, \r\n  northwest: 315 \r\n};\r\n\r\nconst arrowPositions = {\r\n  // 对于方形和圆形\r\n  north: { top: -28, left: '50%', transform: 'translateX(-50%)' }, // 向上调整，更靠近圆形顶部\r\n  northeast: { top: -20, right: -20 }, // 更靠近圆形右上角\r\n  east: { top: '50%', right: -28, transform: 'translateY(-50%)' }, // 向右调整，更靠近圆形右侧\r\n  southeast: { bottom: -20, right: -20 }, // 更靠近圆形右下角\r\n  south: { bottom: -28, left: '50%', transform: 'translateX(-50%)' }, // 向下调整，更靠近圆形底部\r\n  southwest: { bottom: -20, left: -20 }, // 更靠近圆形左下角\r\n  west: { top: '50%', left: -28, transform: 'translateY(-50%)' }, // 向左调整，更靠近圆形左侧\r\n  northwest: { top: -20, left: -20 } // 更靠近圆形左上角\r\n};\r\n\r\nconst triangleArrowPositions = {\r\n  // 针对三角形\r\n  north: { top: -22, left: '50%', transform: 'translateX(-50%)' }, // 三角形顶点，通常是OK的\r\n  northeast: { top: -16, right: -16 }, // 从边界框右上角向外偏移，尝试显示箭头\r\n  east: { top: '50%', right: -22, transform: 'translateY(-50%)' }, // 沿右侧边，调整Y偏移可能需要微调\r\n  southeast: { bottom: -16, right: -16 }, // 从边界框右下角向外偏移\r\n  south: { bottom: -22, left: '50%', transform: 'translateX(-50%)' }, // 三角形底边中心，通常是OK的\r\n  southwest: { bottom: -16, left: -16 }, // 从边界框左下角向外偏移\r\n  west: { top: '50%', left: -22, transform: 'translateY(-50%)' }, // 沿左侧边，调整Y偏移可能需要微调\r\n  northwest: { top: -16, left: -16 } // 从边界框左上角向外偏移\r\n};\r\n\r\nconst FamilyMember = ({ member, onUpdate }) => {\r\n  const [dragOffset, setDragOffset] = useState(null);\r\n  \r\n  const [{ isDragging }, drag] = useDrag({\r\n    type: 'MEMBER',\r\n    item: () => ({ \r\n      id: member.id,\r\n      initialOffset: dragOffset \r\n    }),\r\n    collect: monitor => ({\r\n      isDragging: monitor.isDragging(),\r\n    }),\r\n  });\r\n\r\n  // 处理拖拽开始时记录偏移量\r\n  const handleMouseDown = useCallback((e) => {\r\n    const element = e.currentTarget;\r\n    const rect = element.getBoundingClientRect();\r\n    const offset = {\r\n      x: e.clientX - rect.left,\r\n      y: e.clientY - rect.top\r\n    };\r\n    \r\n    console.log('🎯 拖拽开始 - 成员:', member.name, {\r\n      成员ID: member.id,\r\n      成员当前位置: { x: member.x, y: member.y },\r\n      成员尺寸: { width: width, height: height },\r\n      元素边界: {\r\n        left: rect.left,\r\n        top: rect.top,\r\n        width: rect.width,\r\n        height: rect.height\r\n      },\r\n      鼠标位置: { clientX: e.clientX, clientY: e.clientY },\r\n      计算的偏移量: offset\r\n    });\r\n    \r\n    setDragOffset(offset);\r\n  }, [member.name, member.id, member.x, member.y, width, height]);\r\n\r\n  const width = member.width || 72;\r\n  const height = member.height || 72;\r\n\r\n  const [hovered, setHovered] = useState(false);\r\n  const [resizing, setResizing] = useState(false);\r\n  const [resizeStart, setResizeStart] = useState(null);\r\n\r\n  const shape = member.gender === 'female' ? 'circle' : member.shape || 'square'; // 确保 shape 在 validDirection 之前定义\r\n\r\n  const positionConfigForValidation = shape === 'triangle' ? triangleArrowPositions : arrowPositions;\r\n  const validDirection = member.direction && positionConfigForValidation[member.direction] ? member.direction : 'north';\r\n\r\n  const handleRotate = useCallback((e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const idx = directionOrder.indexOf(validDirection);\r\n    const next = directionOrder[(idx + 1) % directionOrder.length];\r\n    if (onUpdate) {\r\n      onUpdate(member.id, { direction: next });\r\n    }\r\n  }, [validDirection, member.id, onUpdate]);\r\n\r\n  const handleResizeMouseDown = useCallback((e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setResizing(true);\r\n    setResizeStart({ x: e.clientX, y: e.clientY, width, height });\r\n    document.body.style.setProperty('cursor', 'nwse-resize', 'important');\r\n  }, [width, height]);\r\n\r\n  useEffect(() => {\r\n    if (!resizing || !resizeStart) return;\r\n\r\n    const handleMove = (e) => {\r\n      const dx = e.clientX - resizeStart.x;\r\n      const dy = e.clientY - resizeStart.y;\r\n      const delta = Math.max(Math.abs(dx), Math.abs(dy)) * (dx < 0 || dy < 0 ? -1 : 1);\r\n      const base = Math.max(resizeStart.width, resizeStart.height);\r\n      const newSize = Math.max(40, base + delta);\r\n\r\n      onUpdate && onUpdate(member.id, { width: newSize, height: newSize });\r\n    };\r\n\r\n    const handleUp = () => {\r\n      setResizing(false);\r\n      setResizeStart(null);\r\n      document.body.style.cursor = '';\r\n    };\r\n\r\n    document.addEventListener('mousemove', handleMove);\r\n    document.addEventListener('mouseup', handleUp);\r\n\r\n    return () => {\r\n      document.removeEventListener('mousemove', handleMove);\r\n      document.removeEventListener('mouseup', handleUp);\r\n    };\r\n  }, [resizing, resizeStart, onUpdate, member.id]);\r\n\r\n  const renderDirectionTriangle = useCallback(() => {\r\n    const positionConfig = shape === 'triangle' ? triangleArrowPositions : arrowPositions;\r\n    const position = positionConfig[validDirection];\r\n    const angle = directionAngle[validDirection] || 0;\r\n    const baseTransform = position.transform || '';\r\n    const rotateTransform = `rotate(${angle}deg)`;\r\n    const combinedTransform = baseTransform ? `${baseTransform} ${rotateTransform}` : rotateTransform;\r\n\r\n    return (\r\n      <svg\r\n        width=\"22\"\r\n        height=\"22\"\r\n        style={{\r\n          position: 'absolute',\r\n          top: position.top,\r\n          left: position.left,\r\n          right: position.right,\r\n          bottom: position.bottom,\r\n          zIndex: 20,\r\n          transform: combinedTransform\r\n        }}\r\n      >\r\n        <polygon points=\"11,0 22,22 0,22\" fill=\"#6366f1\" />\r\n      </svg>\r\n    );\r\n  }, [validDirection, shape]);\r\n\r\n  const renderResizeHandle = useCallback(() => (\r\n    <div\r\n      onMouseDown={handleResizeMouseDown}\r\n      style={{\r\n        position: 'absolute',\r\n        right: -25,\r\n        bottom: -25,\r\n        width: 24,\r\n        height: 24,\r\n        background: '#fff',\r\n        border: '2px solid #6366f1',\r\n        borderRadius: 8,\r\n        cursor: 'nwse-resize',\r\n        zIndex: 30,\r\n        boxShadow: '0 2px 8px rgba(0,0,0,0.15)',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n      }}\r\n      title=\"缩放\"\r\n    >\r\n      <svg width=\"16\" height=\"16\">\r\n        <polyline points=\"3,13 13,13 13,3\" fill=\"none\" stroke=\"#6366f1\" strokeWidth=\"2\" />\r\n        <polyline points=\"9,7 13,3 9,7\" fill=\"none\" stroke=\"#6366f1\" strokeWidth=\"2\" />\r\n        <polyline points=\"7,9 13,13 7,9\" fill=\"none\" stroke=\"#6366f1\" strokeWidth=\"2\" />\r\n      </svg>\r\n    </div>\r\n  ), [handleResizeMouseDown]);\r\n\r\n  const getContainerStyle = () => {\r\n    let baseStyle = {\r\n      width,\r\n      height,\r\n      minWidth: 40,\r\n      minHeight: 40,\r\n      cursor: isDragging ? 'grabbing' : 'grab',\r\n      opacity: isDragging ? 0.8 : 1,\r\n      background: 'rgba(255,255,255,0.98)',\r\n      border: '3px solid #a5b4fc',\r\n      boxShadow: hovered ? '0 8px 24px rgba(0,0,0,0.2)' : '0 6px 20px rgba(0,0,0,0.15)',\r\n      transition: 'box-shadow 0.2s ease, transform 0.2s ease',\r\n      transform: isDragging ? 'scale(1.02)' : 'scale(1)',\r\n      willChange: 'transform',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      userSelect: 'none',\r\n      position: 'relative',\r\n    };\r\n\r\n    switch (shape) {\r\n      case 'circle':\r\n        baseStyle.borderRadius = '50%';\r\n        break;\r\n      case 'triangle':\r\n        baseStyle.borderRadius = '0';\r\n        baseStyle.clipPath = 'polygon(50% 0%, 0% 100%, 100% 100%)';\r\n        break;\r\n      default:\r\n        baseStyle.borderRadius = '8px';\r\n        break;\r\n    }\r\n\r\n    return baseStyle;\r\n  };\r\n\r\n  return (\r\n    <div\r\n      data-member-id={member.id}\r\n      style={{ position: 'absolute', left: member.x, top: member.y, zIndex: 2000 }}\r\n      onMouseEnter={() => setHovered(true)}\r\n      onMouseLeave={() => setHovered(false)}\r\n    >\r\n      <button\r\n        onClick={handleRotate}\r\n        onMouseDown={(e) => e.stopPropagation()}\r\n        style={{\r\n          position: 'absolute',\r\n          top: -40,\r\n          left: -40,\r\n          zIndex: 20,\r\n          background: '#fff',\r\n          border: '2px solid #6366f1',\r\n          borderRadius: '50%',\r\n          width: 32,\r\n          height: 32,\r\n          cursor: 'pointer',\r\n          padding: 0,\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          boxShadow: '0 2px 8px rgba(0,0,0,0.15)'\r\n        }}\r\n        title={`箭头朝向: ${validDirection}`}\r\n      >\r\n        <svg width=\"18\" height=\"18\" viewBox=\"0 0 16 16\">\r\n          <path d=\"M8 2v2.5a.5.5 0 0 0 .5.5H11\" stroke=\"#6366f1\" strokeWidth=\"1.5\" fill=\"none\" />\r\n          <path d=\"M13.5 8A5.5 5.5 0 1 1 8 2\" stroke=\"#6366f1\" strokeWidth=\"1.5\" fill=\"none\" />\r\n        </svg>\r\n      </button>\r\n\r\n      <div \r\n        ref={drag} \r\n        style={getContainerStyle()}\r\n        onMouseDown={handleMouseDown}\r\n      >\r\n        {renderDirectionTriangle()}\r\n\r\n        {member.isDeceased && (\r\n          <div\r\n            style={{\r\n              position: 'absolute',\r\n              top: '50%',\r\n              left: '50%',\r\n              transform: 'translate(-50%, -50%)',\r\n              fontSize: Math.min(width * 2, 60),\r\n              color: '#6b7280',\r\n              fontWeight: 'bold',\r\n              zIndex: 2001,\r\n              textShadow: '2px 2px 4px rgba(0,0,0,0.3)',\r\n              opacity: 0.6,\r\n              pointerEvents: 'none',\r\n            }}\r\n          >\r\n            ✕\r\n          </div>\r\n        )}\r\n\r\n        <div\r\n          style={{\r\n            fontSize: Math.max(12, Math.min(width * 0.38, 28)),\r\n            marginBottom: 2,\r\n            transition: 'transform 0.2s',\r\n          }}\r\n        >\r\n          {member.icon || '🧑'}\r\n        </div>\r\n        <div\r\n          style={{\r\n            fontWeight: 'bold',\r\n            color: '#1f2937',\r\n            fontSize: Math.max(10, width / 6.5),\r\n            marginBottom: 1,\r\n          }}\r\n        >\r\n          {member.name}\r\n        </div>\r\n        <div\r\n          style={{\r\n            fontSize: Math.max(8, width / 8),\r\n            color: '#3b82f6',\r\n            fontWeight: 600,\r\n            letterSpacing: 0.5,\r\n          }}\r\n        >\r\n          {member.role}\r\n        </div>\r\n\r\n        {renderResizeHandle()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FamilyMember;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}